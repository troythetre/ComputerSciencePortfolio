<!DOCTYPE html>
<html>
<head>
  <title>Home of the Leopards</title> 
  <script src ="plotly-latest.min.js" ></script>

  <!--Fonts: Righteous, Luckiest Guy, ZCOOL KuaiLe-->
  <link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet"><!--Righteous, cursive-->
  <link href="https://fonts.googleapis.com/css2?family=ZCOOL+KuaiLe&display=swap" rel="stylesheet"><!--Luckiest Guy, cursive-->
  <link href="https://fonts.googleapis.com/css2?family=Poiret+One&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Shadows+Into+Light&display=swap" rel="stylesheet"><!--font-family: 'Shadows Into Light', cursive;-->
  <link rel="shortcut icon" href="favicon.ico" /><!--This is to display special icon for title-->  
<style> 
    * { 
        margin: 0;
        padding: 0;
        list-style: none;
        text-decoration: none;
        box-sizing: border-box;
        font-family: 'Righteous', cursive;
    }   

    html {
        scroll-behavior: smooth;
    }

    body{
        margin: 0;
        padding: 0;
        background-color:#444;


    }   

    h1 {
        text-align: center;
        color: white;
    }

    tr {
        color: white;
    }


</style>

</head>
<body>
  

  



  <div style="background-color:black;" id="upload">
    <h1 style= "color:#ff3200;font-family:'Shadows Into Light', cursive;font-size:65px;margin-top:25px;margin-left:50px;margin-right:50px;">YCIS Leopards Basketball</h1>

    <br/>

    <!--Buttons for inputting data-->

    <div id ="buttons" style="position:absolute;left:800px;top:120px;">

        <h1 style="color:#ced22d;font-family: 'Shadows Into Light', cursive;width:100px">OFFENSE</h1>

        <h2 style="color:#06f96d;font-family: 'Poiret One', cursive;">Jumpshot</h2>

        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="jumpshotPlayer1" value="Curry" onclick="jumpshot(this.value)">Curry</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="jumpshotPlayer2" value="Kyrie" onclick="jumpshot(this.value)">Kyrie</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="jumpshotPlayer3" value="LeBron" onclick="jumpshot(this.value)">LeBron</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="jumpshotPlayer4" value="Kawhi" onclick="jumpshot(this.value)">Kawhi</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="jumpshotPlayer5" value="AD" onclick="jumpshot(this.value)">AD</button>

        <br/>

        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="position1" value="leftBaseline" onclick="shotPosition(this.value)">Left Baseline</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="position2" value="leftWing" onclick="shotPosition(this.value)">Left Wing</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="position3" value="top" onclick="shotPosition(this.value)">Top</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="position4" value="rightWing" onclick="shotPosition(this.value)">Right Wing</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:150px;font-family: 'ZCOOL KuaiLe', cursive;" id="position5" value="rightBaseline" onclick="shotPosition(this.value)">Right Baseline</button>


        <br/>

        <button style="border-radius:25px;height:30px;background-color:#FF4136;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id ="jumpshotResult1" value = "Make" onclick="shotResult(this.value)">Make</button>
        <button style="border-radius:25px;height:30px;background-color:#FF4136;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id ="jumpshotResult2" value = "Miss" onclick="shotResult(this.value)">Miss</button>



        <h2 style="color:#06f96d;font-family: 'Poiret One', cursive;">3 Pointers</h2>

        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="threePointShotPlayer1" value="Curry" onclick="threePointShot(this.value)">Curry</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="threePointShotPlayer2" value="Kyrie" onclick="threePointShot(this.value)">Kyrie</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="threePointShotPlayer3" value="LeBron" onclick="threePointShot(this.value)">LeBron</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="threePointShotPlayer4" value="Kawhi" onclick="threePointShot(this.value)">Kawhi</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="threePointShotPlayer5" value="AD" onclick="threePointShot(this.value)">AD</button>

        <br/>

        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="position1" value="leftBaseline" onclick="shotPosition(this.value)">Left Baseline</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="position2" value="leftWing" onclick="shotPosition(this.value)">Left Wing</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="position3" value="top" onclick="shotPosition(this.value)">Top</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="position4" value="rightWing" onclick="shotPosition(this.value)">Right Wing</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:150px;font-family: 'ZCOOL KuaiLe', cursive;" id="position5" value="rightBaseline" onclick="shotPosition(this.value)">Right Baseline</button>


        <br/>

        <button style="border-radius:25px;height:30px;background-color:#FF4136;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id ="threePointShotResult1" value = "Make" onclick="shotResult(this.value)">Make</button>
        <button style="border-radius:25px;height:30px;background-color:#FF4136;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id ="threePointShotResult2" value = "Miss" onclick="shotResult(this.value)">Miss</button>
  

        <br/>

        <h2 style="color:#06f96d;font-family: 'Poiret One', cursive;">Close Shots</h2>

        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="closeShotPlayer1" value="Curry" onclick="closeShot(this.value)">Curry</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="closeShotPlayer2" value="Kyrie" onclick="closeShot(this.value)">Kyrie</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="closeShotPlayer3" value="LeBron" onclick="closeShot(this.value)">LeBron</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="closeShotPlayer4" value="Kawhi" onclick="closeShot(this.value)">Kawhi</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="closeShotPlayer5" value="AD" onclick="closeShot(this.value)">AD</button>


        <br/>

        <button style="border-radius:25px;height:30px;background-color:#FF4136;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id ="closeShotResult1" value = "Make" onclick="shotResult(this.value)">Make</button>
        <button style="border-radius:25px;height:30px;background-color:#FF4136;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id ="closeShotResult2" value = "Miss" onclick="shotResult(this.value)">Miss</button>

        <br/>

        <h2 style="color:#06f96d;font-family: 'Poiret One', cursive;">Free Throw</h2>

        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="freeThrowPlayer1" value="Curry" onclick="freeThrow(this.value)">Curry</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="freeThrowPlayer2" value="Kyrie" onclick="freeThrow(this.value)">Kyrie</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="freeThrowPlayer3" value="LeBron" onclick="freeThrow(this.value)">LeBron</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="freeThrowPlayer4" value="Kawhi" onclick="freeThrow(this.value)">Kawhi</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="freeThrowPlayer5" value="AD" onclick="freeThrow(this.value)">AD</button>


        <br/>

        <button style="border-radius:25px;height:30px;background-color:#FF4136;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id ="closeShotResult1" value = "Make" onclick="shotResult(this.value)">Make</button>
        <button style="border-radius:25px;height:30px;background-color:#FF4136;color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id ="closeShotResult2" value = "Miss" onclick="shotResult(this.value)">Miss</button>

        <br/>

        <h2 style="color:#06f96d;font-family: 'Poiret One', cursive;">Turnover</h2>

        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="TOPlayer1" value="Curry" onclick="turnover(this.value)">Curry</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="TOPlayer2" value="Kyrie" onclick="turnover(this.value)">Kyrie</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="TOPlayer3" value="LeBron" onclick="turnover(this.value)">LeBron</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="TOPlayer4" value="Kawhi" onclick="turnover(this.value)">Kawhi</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="TOPlayer5" value="AD" onclick="turnover(this.value)">AD</button>
        
        <br/>

        <h2 style="color:#06f96d;font-family: 'Poiret One', cursive;">Offensive Rebounds</h2>

        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="offensiveRPGPlayer1" value="Curry" onclick="offensiveRPG(this.value)">Curry</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="offensiveRPGPlayer2" value="Kyrie" onclick="offensiveRPG(this.value)">Kyrie</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="offensiveRPGPlayer3" value="LeBron" onclick="offensiveRPG(this.value)">LeBron</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="offensiveRPGPlayer4" value="Kawhi" onclick="offensiveRPG(this.value)">Kawhi</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="offensiveRPGPlayer5" value="AD" onclick="offensiveRPG(this.value)">AD</button>
        

        
        <br/>

        <h1 style="color:#ced22d;font-family: 'Shadows Into Light', cursive;width:100px">DEFENSE</h1>

        <h2 style="color:#06f96d;font-family: 'Poiret One',cursive;">Steal</h2>

        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="stealPlayer1" value="Curry" onclick="steal(this.value)">Curry</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="stealPlayer2" value="Kyrie" onclick="steal(this.value)">Kyrie</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="stealPlayer3" value="LeBron" onclick="steal(this.value)">LeBron</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="stealPlayer4" value="Kawhi" onclick="steal(this.value)">Kawhi</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="stealPlayer5" value="AD" onclick="steal(this.value)">AD</button>
        
        <br/>

        <h2 style="color:#06f96d;font-family: 'Poiret One',cursive;">Block</h2>

        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="blockPlayer1" value="Curry" onclick="block(this.value)">Curry</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="blockPlayer2" value="Kyrie" onclick="block(this.value)">Kyrie</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="blockPlayer3" value="LeBron" onclick="block(this.value)">LeBron</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="blockPlayer4" value="Kawhi" onclick="block(this.value)">Kawhi</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="blockPlayer5" value="AD" onclick="block(this.value)">AD</button>
        
        <br/>

        <h2 style="color:#06f96d;font-family: 'Poiret One',cursive;">Defensive Rebounds</h2>

        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="defensiveRPGPlayer1" value="Curry" onclick="defensiveRPG(this.value)">Curry</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="defensiveRPGPlayer2" value="Kyrie" onclick="defensiveRPG(this.value)">Kyrie</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="defensiveRPGPlayer3" value="LeBron" onclick="defensiveRPG(this.value)">LeBron</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="defensiveRPGPlayer4" value="Kawhi" onclick="defensiveRPG(this.value)">Kawhi</button>
        <button style="border-radius:25px;height:30px;background-color:rgb(12,102,240);color:white;width:100px;font-family: 'ZCOOL KuaiLe', cursive;" id="defensiveRPGPlayer5" value="AD" onclick="defensiveRPG(this.value)">AD</button>
        
        <br/>
        <br/>



        <button style="border-radius:25px;color:orangered;background-color:#FFD500;left:600px;top:460px; height:50px;width:300px;font-size: 30px;font-family: 'Shadows Into Light', cursive;" id="pausingButtonVideo" onclick="playVideo()">Resume Video</button>

        <!--Substitution players -- links to updatePlayer()-->
        <br/>
        <br/>
        <input type = "text" id = "insertPlayer1" placeholder="Player 1">
        <input type = "text" id = "insertPlayer2" placeholder="Player 2">
        <input type = "text" id = "insertPlayer3" placeholder="Player 3">
        <input type = "text" id = "insertPlayer4" placeholder="Player 4">
        <input type = "text" id = "insertPlayer5" placeholder="Player 5">
        <button onclick="updatePlayer(insertPlayer1,insertPlayer2,insertPlayer3,insertPlayer4,insertPlayer5)" id ="updatePlayer">Update players</button>
    </div>   

    <br/>

    <!--Video upload, and side functions like play ,pause and replay-->
    <!-- uploading the video that was stored on the local computer-->
    <video src="basketBallsample.mp4"  width="750" height="500" id="videoTry"></video>
    <br/>
    <input type="file" id = "userVideo" onchange="loadVideo(userVideo)"> </input>

    <!--Video Buttons functions-->
    <div id="videoButtons">
        <span style="border-radius:25px;width:50px;background-color:green;color:white;" id='videoTimer'>Time: </span>
        <br/>
        <button style="border-radius:25px;width:50px;background-color:green;color:white;" onclick="playVideo()">Play</button>
        <button style="border-radius:25px;width:50px;background-color:red;color:white;"onclick="pauseVideo()">Pause</button>
        <button style="border-radius:25px;width:80px;background-color:yellow;color:purple;" onclick="forwardVideo()">Forward</button>
        <button style="border-radius:25px;width:80px;background-color:yellow;color:purple;" onclick="backwardVideo()">Backward</button>
        <button style="border-radius:25px;width:65px;background-color:black;color:white;"onclick="replayVideo()">Replay</button>
        <span style="border-radius:25px;width:50px;background-color:green;color:white;" id='scoreboard'>Scoreboard: </span>
        <br/>
        <textarea id = "gameDateYear" rows = "1" column = "3" placeholder="2020"></textarea>
        <textarea id = "gameDateMonth" rows = "1" column = "3" placeholder="01"></textarea>
        <textarea id = "gameDateDay" rows = "1" column = "3" placeholder="01"></textarea>
    </br>
        <textarea id="inputDescription" rows="3" columns="300" placeholder="Game Description"></textarea>
        <input type="text" id="fileName"></input>
        <button style="border-radius:25px;width:75px;background-color:purple;color:white;"onclick="downloadFile()">Download</button>
    </div>

    <br/>

    <div>
        <span id = "chooseGameFile" style="color:white;">Choose game file</span>
      <input type="file" id="retrievedData" onchange="toRetrieveData(retrievedData)">Read In Data
      <br/>
      <br/>
      <button type="text" id="toUseFreshData" onclick="useFreshData()">Use fresh data</button>
      <button type = "text" id="addFreshData" onclick = "addFreshData()">Add Fresh Data to Loaded File</button>
      <button type="text" id="saveTheCombined" onclick = "saveTheCombined()">Save new data</button>
      <span id="forSaveTheCombined"></span>
      <br/>
      <br/>
      <button id="printAllPlayers" onclick="printAllPlayers()">All Players' Stats</button>
      <span id = "spanForPlayers"></span> <!--place that displays shortcuts and the picture of the players-->
      <br/>
      <br/>

      <textarea id="searchPlayer" rows="1" cols="20" placeholder="Insert Player Name"></textarea>
      <canvas id = "playerPicture" width = "80" height = "60"></canvas>
      <button onclick="statCal()">Get Stats Now</button>

      <div id="Statistic1" style = "color:peru;font-family: 'Shadows Into Light', cursive;font-size:36px;">Data: </div>
      <h2 style="color:#01FFBC;font-family: 'Poiret One', cursive;">Jumpshot</h2>
      <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:200px;font-family: 'Shadows Into Light', cursive;font-size:15px;" id="jumpPercentage" value="jumpPercentageTotal" onclick ="totalJumpshotPercentage(this.value)">Total Jumpshot Percentage</button>
      <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'Shadows Into Light', cursive;font-size:15px;" id="jumpPosition1" value="leftBaseline" onclick="shotPosition(this.value)">Left Baseline</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'Shadows Into Light', cursive;font-size:15px;" id="jumpPosition2" value="leftWing" onclick="shotPosition(this.value)">Left Wing</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;;width:100px;font-family: 'Shadows Into Light', cursive;font-size:15px;" id="jumpPosition3" value="top" onclick="shotPosition(this.value)">Top</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'Shadows Into Light', cursive;font-size:15px;" id="jumpPosition4" value="rightWing" onclick="shotPosition(this.value)">Right Wing</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:150px;font-family: 'Shadows Into Light', cursive;font-size:15px;" id="jumpPosition5" value="rightBaseline" onclick="shotPosition(this.value)">Right Baseline</button>

        <h2 style="color:#01FFBC;font-family: 'Poiret One', cursive;">3-Points</h2>
      <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:200px;font-family: 'Luckiest Guy', cursive;" id="threePercentage" value="threePercentageTotal" onclick ="totalThreePointsPercentage(this.value)">Total Three Points Percentage</button>
      <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'Luckiest Guy', cursive;" id="threePosition1" value="leftBaseline" onclick="shotPosition(this.value)">Left Baseline</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'Luckiest Guy', cursive;" id="threePosition2" value="leftWing" onclick="shotPosition(this.value)">Left Wing</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'Luckiest Guy', cursive;" id="threePosition3" value="top" onclick="shotPosition(this.value)">Top</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:100px;font-family: 'Luckiest Guy', cursive;" id="threePosition4" value="rightWing" onclick="shotPosition(this.value)">Right Wing</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:150px;font-family: 'Luckiest Guy', cursive;" id="threePosition5" value="rightBaseline" onclick="shotPosition(this.value)">Right Baseline</button>

        <h2 style="color:#01FFBC;font-family: 'Poiret One', cursive;">Close shots</h2>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:200px;font-family: 'Luckiest Guy', cursive;" id="closePercentage" value="closePercentage" onclick ="totalCloseShotPercentage(this.value)">Total close shots Percentage</button>

        <h2 style="color:#01FFBC;font-family: 'Poiret One', cursive;">Free Throws</h2>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:200px;font-family: 'Luckiest Guy', cursive;" id="ftPercentage" value="FTP" onclick ="totalFTPercentage(this.value)">Total Free Throw Percentage</button>

        <h2 style="color:#01FFBC;font-family: 'Poiret One', cursive;">Blocks</h2>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:200px;font-family: 'Luckiest Guy', cursive;" id="numBlocks" value="BPG" onclick ="perGame(this.value)">Blocks Per Game</button>

        <h2 style="color:#01FFBC;font-family: 'Poiret One', cursive;">Steals</h2>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:200px;font-family: 'Luckiest Guy', cursive;" id="numSteals" value="SPG" onclick ="perGame(this.value)">Steals Per Game</button>

        <h2 style="color:#01FFBC;font-family: 'Poiret One', cursive;">Turnover</h2>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:200px;font-family: 'Luckiest Guy', cursive;" id="numTO" value="TOPerGame" onclick ="perGame(this.value)">TO Per Game</button>

        <h2 style="color:#01FFBC;font-family: 'Poiret One', cursive;">Rebounds</h2>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:200px;font-family: 'Luckiest Guy', cursive;" id="numOffensiveRPG" value="offensiveRPG" onclick ="perGame(this.value)">Offensive Rebounds Per Game</button>
        <button style="border-radius:25px;height:30px;background-color:#1E3B9C;color:white;width:250px;font-family: 'Luckiest Guy', cursive;" id="numDefensiveRPG" value="defensiveRPG" onclick ="perGame(this.value)">Defensive Rebounds Per Game</button>
    </div>
    </br>
    </br>   

    <button id = "gameSequence" style = "border-radius:25px;width:200px;background-color:white;color:black;" onclick="updateGameSequence()">Update Game Sequence</button>
    <button id="printAllGames" onclick="printAllGame()">All Games: </button>
    <span id = "spanForGames"></span>
    <button id = "buttonForChart" style = "border-radius:25px;width:200px;background-color:white;color:black;" onclick="updateChart()">Update Chart</button>
    <div id = "scoreChartPlace" style = "height:300;width:300;"></div>
    <div id = "jumpshotChartPlace" style = "height:300;width:300;"></div>
    <div id = "threePointChartPlace" style = "height:300;width:300;"></div>
    <div id = "closeShotsChartPlace" style = "height:300;width:300;"></div>
    <div id = "freeThrowChartPlace" style = "height:300;width:300;"></div>
    <div id = "TOChartPlace" style = "height:300;width:300;"></div>
    <div id = "ORChartPlace" style = "height:300;width:300;"></div>
    <div id = "stealChartPlace" style = "height:300;width:300;"></div>
    <div id = "blockChartPlace" style = "height:300;width:300;"></div>
    <div id = "DRChartPlace" style = "height:300;width:300;"></div>
    

    


  </div>
  
  


</body>
<script>

  //Timer
   window.onload = function (){
        var videoEntity = document.getElementById('videoTry');
        videoEntity.addEventListener('timeupdate', updateTimer);
    }
    //window.onload--> to perform some task as soon as the page finishes loading
    //target.addEventListener(type, listener [, options])-->sets up a function that will be called
    // whenever the specified/pre-defined event (e.g. timeupdate) is delivered to the target

   function updateTimer() {
        var timerEntity = document.getElementById('videoTimer');
        timerEntity.innerHTML='Time: ' + Math.round(videoTry.currentTime*100)/100 + '/' + videoTry.duration;
    }
    // round timer to 2 decimal places


  //Video buttons with functions
  //Video and audio are "HTMLMediaElement". There are special API (Application Programming Interface)
  //available. Usuage: HTMLMediaElement.play(), HTMLMediaElement.pause(), etc. 
    function playVideo() {
            videoTry.play();
    }
    function pauseVideo() {
            videoTry.pause();
    }
    function replayVideo() {
        videoTry.currentTime=0;
        videoTry.play();
    }
    function loadVideo(userVideo) {
        videoTry.src=URL.createObjectURL(userVideo.files[0]);
        //The src attribute specifies the location (URL) of the video file.
        //When we use <input type="file"> element to reach a file, the handler will put 
        //the reached file name in the first element, files[0],of Filelist object for this input
        videoTry.load();
    }

    function forwardVideo() {
      videoTry.currentTime += 10;
    }

    function backwardVideo() {
      videoTry.currentTime -= 10;
    }
    


    //Downloading the file
    //Arrays to store data - object

    var eachGame = new Object();
    eachGame.players = [];
    eachGame.time = [];
    eachGame.type = [];
    eachGame.position = [];
    eachGame.result = [];
    eachGame.gameID = [];
    eachGame.scoreUpdate = 0;
    eachGame.description="";
    //This is the object for individual game to archive data

    var dataPool = new Object();
    dataPool.players = [];
    dataPool.time = [];
    dataPool.type = [];
    dataPool.gameID = [];
    dataPool.position = [];
    dataPool.result = [];
    //This is the object for the data pool summing all individiual games 
    
    function downloadFile() {
        eachGame.description = inputDescription.value;
        gameDateID = gameDateYear.value + gameDateMonth.value + gameDateDay.value
       
        n = 0
        while (n < eachGame.players.length) {

            eachGame.gameID.push(gameDateID)
            n+=1
        }
        
        var eachGameString = JSON.stringify(eachGame);
        //JSON.stringify() method converts a JavaScript value to a JSON string
        // JSON (JavaScript Object Notation)
        
        var blob = new Blob([eachGameString],{type:"text/plain;charset=utf-8"});
        //convert the JSON string to blob (binary large object)
        //The constructor syntax is: new Blob(blobParts, options);
        //blobParts is an array of String values.

        newAnchor = document.createElement("a");
        newAnchor.href=URL.createObjectURL(blob);
        newAnchor.download=fileName.value;
        newAnchor.dataset.downloadURL=["text/Plain",newAnchor.download, newAnchor.href];
        newAnchor.click();
        // To input content from file or to outpt content to file highly depends on the browser
        //interaction with OS. Try and error on allegedly working code is the  best policy. 
        //Below is the best reference for me.  
        //  https://gist.github.com/liabru/11263260

     }



  
 //Sanity Check for data
 // All the data array by user-input (players,time,type,poistion,result) shall have the same length 
 var dataLengthCorrectness = 1;
 var Lcorrect = 0;

  function checkDataLength() {
      dataLengthCorrectness = 1 //always assuming the variable is 1
      L1 = eachGame.players.length
      L2 = eachGame.time.length
      L3 = eachGame.type.length
      L4 = eachGame.position.length
      L5 = eachGame.result.length
      LMin = Math.min(L1,L2,L3,L4,L5)
      LMax = Math.max(L1,L2,L3,L4,L5)
      // LMin==LMax reflects data integrity
      if (LMin == LMax && LMin > Lcorrect) {
          //Only with positive sanity check, do I calculate and update the score
        if (eachGame.result[LMin-1] == "Make") {
            if (eachGame.type[LMin-1] == "jumpshot") {
                eachGame.scoreUpdate += 2
            }
            if (eachGame.type[LMin-1] == "closeShot") {
                eachGame.scoreUpdate += 2
                console.log(eachGame.scoreUpdate)
            }
            if (eachGame.type[LMin-1] == "threePoints") {
                eachGame.scoreUpdate += 3
                console.log(eachGame.scoreUpdate)
            }
            if (eachGame.type[LMin-1] == "freeThrow") {
                eachGame.scoreUpdate += 1
                console.log(eachGame.scoreUpdate)
            }
        }
        updateScore()
      }
      if (LMin !== LMax) { //could occurs when user forgets to press a button
        dataLengthCorrectness = 0
        alert('You have problematic input for previous one.' ,'The Latest player: ', eachGame.players[LMin-1])
      }

      //removes the latest added item if the length doesn't match
      
      if (L1 > LMin) {
            eachGame.players.pop();
            
            videoTry.currentTime = eachGame.time[LMin-1]
      }
      if (L2 > LMin) {
            eachGame.time.pop();
            
            videoTry.currentTime = eachGame.time[LMin-1]
      }
      if (L3 > LMin) {
            eachGame.type.pop();
            
            videoTry.currentTime = eachGame.time[LMin-1]
      }
      if (L4 > LMin) {
            eachGame.position.pop();
            
            videoTry.currentTime = eachGame.time[LMin-1]
      }
      if (L5 > LMin) {
            eachGame.result.pop();
            
            videoTry.currentTime = eachGame.time[LMin-1]
      }
      Lcorrect = LMin

      

      
  }

  function updateScore() {
        var scoreEntity = document.getElementById('scoreboard');
        scoreEntity.innerHTML='Score: ' + eachGame.scoreUpdate;
    }

  function jumpshot(buttonValue) {
    pauseVideo()
    checkDataLength()
    //I process new event only if with positive sanity check on previous data
    if (dataLengthCorrectness == 1) {
        eachGame.players.push(buttonValue);
        eachGame.type.push("jumpshot");
        eachGame.time.push(videoTry.currentTime)
    }

   
    
  }

  function threePointShot(buttonValue) {
    pauseVideo()
    checkDataLength()
    if (dataLengthCorrectness == 1) {
        eachGame.players.push(buttonValue);
        eachGame.type.push("threePoints");
        eachGame.time.push(videoTry.currentTime)
    }
    
    
  }

  function closeShot(buttonValue) {
    pauseVideo()
    checkDataLength()
    if (dataLengthCorrectness == 1) {
        eachGame.players.push(buttonValue);
        eachGame.type.push("closeShot");
        eachGame.position.push("noPosition");
        eachGame.time.push(videoTry.currentTime)
    }
    
   
  }

  function freeThrow(buttonValue) {
    pauseVideo()
    checkDataLength()
    if (dataLengthCorrectness == 1) {
        eachGame.players.push(buttonValue);
        eachGame.type.push("freeThrow");
        eachGame.position.push("noPosition");
        eachGame.time.push(videoTry.currentTime);
    }
    
    
  }

  function shotResult(buttonValue) {
    eachGame.result.push(buttonValue);
    // The scoreboard will instantly show new score whenever a 'Make' button is clicked to add score.
    // The score is subject to the result of sanity check,  chechDataLength(),  later.     
    if (buttonValue == "Make") {
        if (eachGame.type.length == eachGame.result.length && eachGame.type[eachGame.type.length-1] == "jumpshot") {
            scoreboard.innerHTML = "Score: " + (eachGame.scoreUpdate + 2)
        }
        if (eachGame.type.length == eachGame.result.length && eachGame.type[eachGame.type.length-1] == "threePoints") {
            scoreboard.innerHTML = "Score: " + (eachGame.scoreUpdate + 3)
        }
        if (eachGame.type.length == eachGame.result.length && eachGame.type[eachGame.type.length-1] == "closeShot") {
            scoreboard.innerHTML = "Score: " + (eachGame.scoreUpdate + 2)
        }
        if (eachGame.type.length == eachGame.result.length && eachGame.type[eachGame.type.length-1] == "freeThrow") {
            scoreboard.innerHTML = "Score: " + (eachGame.scoreUpdate + 1)
        }
    }
  }

  function shotPosition(buttonValue) {
    eachGame.position.push(buttonValue);    
  }

  function steal(buttonValue) {
    pauseVideo()
    checkDataLength()
    if (dataLengthCorrectness == 1) {
        eachGame.players.push(buttonValue);
        eachGame.type.push("steal");
        eachGame.position.push("noPosition");
        eachGame.time.push(videoTry.currentTime)
        eachGame.result.push('noResult')
    }
    
  }

  function turnover(buttonValue) {
    pauseVideo()
    checkDataLength()
    if (dataLengthCorrectness == 1) {
        eachGame.players.push(buttonValue);
        eachGame.type.push("turnover");
        eachGame.position.push("noPosition");
        eachGame.time.push(videoTry.currentTime)
        eachGame.result.push('noResult')
    }
    

  }

  function block(buttonValue) {
    pauseVideo()
    checkDataLength()
    if (dataLengthCorrectness == 1) {
        eachGame.players.push(buttonValue);
        eachGame.type.push("block");
        eachGame.position.push("noPosition");
        eachGame.time.push(videoTry.currentTime)
        eachGame.result.push('noResult')
    }
    
  }

  function offensiveRPG(buttonValue) {
    pauseVideo()
    checkDataLength()
    if (dataLengthCorrectness == 1) {
        eachGame.players.push(buttonValue);
        eachGame.type.push("offensiveRebounds");
        eachGame.position.push("noPosition");
        eachGame.time.push(videoTry.currentTime)
        eachGame.result.push('noResult')
    }
    
  }

  function defensiveRPG(buttonValue) {
    pauseVideo()
    checkDataLength()
    if (dataLengthCorrectness == 1) {
        eachGame.players.push(buttonValue);
        eachGame.type.push("defensiveRebounds");
        eachGame.position.push("noPosition");
        eachGame.time.push(videoTry.currentTime)
        eachGame.result.push('noResult')
    }
    
  }


  

  //linked to statistics calculation
var playerBook = [];
var playerIndexTemp = 0
var everRetrieved = 0

//To get data from file in local drive
//Will also make player list and create buttons for picking individual player to show statistics 
function toRetrieveData(retrievedData) {
    var readInData = new FileReader(); //to call for an object dedicated for file reading
    readInData.readAsText(retrievedData.files[0]);
    // The picked file name is put in the first element, files[0],
    //of Filelist object for this <input type="file">

    //fire file-reading action, covert the read-in string to object in common data pool
    readInData.onload = function(retrievedData){
        parsedGameData=JSON.parse(retrievedData.target.result);
        //read in the reached file, which consissts of string; 
        //and then parse them to be object by JSON.parse

        //Starting to add the propeties (player,time,....) of read in object,tempdatabseto, the common data poot, dataPool, 
        n = 0
            while (n < parsedGameData.players.length) {
            dataPool.players.push(parsedGameData.players[n]);
            dataPool.time.push(parsedGameData.time[n]);
            dataPool.type.push(parsedGameData.type[n]);
            dataPool.position.push(parsedGameData.position[n]);
            dataPool.result.push(parsedGameData.result[n]);
            dataPool.gameID.push(parsedGameData.gameID[n])
            n+=1
        }
            
        
        //This is to refresh the buttons listing players whilelist the playBook content is kept
        //To remove the existing player buttons which will be added back with refreshed players       
        oldPlayerBook = playerBook
        if (oldPlayerBook.length !== 0) {
            n=0
            while (n < oldPlayerBook.length) {
                //remove player button one by one
                var btnDelete = document.getElementById("hPlayerButton"+n)
                btnDelete.remove()
                n += 1
            }
        }
        
        ///To make sure all players in dataPool pool be included in playBook
        n = 0
        while (n < dataPool.players.length) {
            if (!(playerBook.includes(dataPool.players[n]))) {
                
                playerBook.push(dataPool.players[n]);
                
            }
            
            n += 1
        }
        //To dynamically create buttons by method createElement("button"), each for a player in playerBook
        n=0
        while (n < playerBook.length) {
            //To dynamically create buttons by method createElement("button") an dthen set their attributes
            var btn = document.createElement("button")            
            btn.setAttribute("id", "hPlayerButton"+n)
            btn.innerHTML = playerBook[n]
            //once a button is clicked , will fill in "searchPlayer" textarea with the picked player 
            btn.addEventListener("click",fillInName)
            
            document.getElementById("spanForPlayers").appendChild(btn)
            n += 1
        }
        everRetrieved = 1 // A flag showing toRetrieveDat is evere called. 
    }
    document.getElementById("chooseGameFile").innerHTML = "Add another game file"
}
// An action associated with addEvenetListener, fillInName here, will carry all the event 
//information (object "e") from the button experiencing the event 
function fillInName(e) {
    // How to pick the needed information from object e? I use console.log(e) to list, in inspection of browser, 
    //all the properties of e
    searchPlayer.value = e.path[0].innerHTML;    
    searchPlayer.innerHTML = e.path[0].innerHTML;
    
    //The HTMLCanvasElement.getContext() method returns a drawing context on the canvas
    playerImage = document.getElementById("playerPicture")
    toolset2D = playerImage.getContext("2d")

    // Calling for a program (object), Image,  to display 2D picture 
    targetImage = new Image()
    targetImage.src = searchPlayer.value + ".jpeg"    
    targetImage.onerror = function() { //Error events are fired when errors happens to targetObject(handler/program..)
        targetImage.src = "NoPicture.jpeg"
        this.onerror = null // Be sure to cancel the alarm to prevnet from 
        //dead loop calling "onerror" (e.g. if having error to accesss NoPicture.jpeg, targetImage.src evokes error) 
    }
    targetImage.onload = function() { //Once done loading targetImage, display 2D by method drawImage
        toolset2D.drawImage(targetImage,0,0, playerImage.width, playerImage.height)
        //drawImage(image, x, y) Draws the CanvasImageSource specified by the image parameter at the coordinates (x, y).
    }
    
}



function useFreshData() {
        if (everRetrieved===0) {// If the user wants only the fresh input to be the dataPool for statistic
                                // I need to make sure the proprietary function,toRetrieveData(),that loads 
                                //a file form local drive is never called by checking the flag,everRetrieved
            
            n = 0
            while (n < eachGame.players.length) { //pushing all the freshed data into the dataPool
                
                dataPool.players.push(eachGame.players[n]);                
                dataPool.time.push(eachGame.time[n]);
                dataPool.type.push(eachGame.type[n]);
                dataPool.position.push(eachGame.position[n]);
                dataPool.result.push(eachGame.result[n]);
                dataPool.gameID.push(eachGame.gameID[n]);
                n+=1
            }
            
            ////To create buttons, each for a player in dataPool
            //To make sure all the existing buttons are removed first
            n=0
            while (n < playerBook.length) { 
                var btnDelete = document.getElementById("hPlayerButton"+n)
                btnDelete.remove()
                n += 1
            }
            
            // Build the playerBook according to dataPool (the ultimate dataPool)
            n = 0
            playerBook = [];            
            while (n < dataPool.players.length) {
                if (!(playerBook.includes(dataPool.players[n]))) {                    
                    playerBook.push(dataPool.players[n]);                    
                }            
                n += 1
            }
            
            // Create buttons, each for a player in playerBook
            n=0
            while (n < playerBook.length) { //creates the shortcut for users to look at performance of certain players
                var btn = document.createElement("button")
                btn.setAttribute("id", "hPlayerButton"+n)
                btn.innerHTML = playerBook[n]
                btn.addEventListener("click",fillInName)                
                document.getElementById("spanForPlayers").appendChild(btn)
                //The Node.appendChild() method adds a node to the end of the list of children of a specified parent node. 
                n += 1
            }
        }
        else {
            alert("You loaded file before");
        }

  }

  function addFreshData() {
        if (everRetrieved===1) {// To make sure a (or more than one) data file is ever loaded in advance by checking the flag, everRetrieved 
            
            n = 0
            while (n < eachGame.players.length) { //pushing all the freshed data into the dataPool             
                dataPool.players.push(eachGame.players[n]);                
                dataPool.time.push(eachGame.time[n]);
                dataPool.type.push(eachGame.type[n]);
                dataPool.position.push(eachGame.position[n]);
                dataPool.result.push(eachGame.result[n]);
                dataPool.gameID.push(eachGame.gameID[n]);
                n+=1
            }

            ////To create buttons, each for a player in dataPool
            //To make sure all the existing buttons are removed first
            n=0
            while (n < playerBook.length) {
                var btnDelete = document.getElementById("hPlayerButton"+n)
                btnDelete.remove()
                n += 1
            }

            // Build the playerBook according to dataPool (the ultimate dataPool)
            n = 0
            playerBook = [];            
            while (n < dataPool.players.length) {
                if (!(playerBook.includes(dataPool.players[n]))) {                    
                    playerBook.push(dataPool.players[n]);                    
                }            
                n += 1
            }

            // Create buttons, each for a player in playerBook
            n=0
            while (n < playerBook.length) {
                var btn = document.createElement("button")
                btn.setAttribute("id", "hPlayerButton"+n)
                btn.innerHTML = playerBook[n]
                btn.addEventListener("click",fillInName)                
                document.getElementById("spanForPlayers").appendChild(btn)
                n += 1
            }
        }
        else {
            alert("You didn't load file first");
        }

  }

  // Download the common dataPool,dataPool, to a file in local drive, just applying the same way as downloadFile()
  // 
  function saveTheCombined() {
    var insertName = document.createElement("textarea");
    insertName.setAttribute("id", "insertName");
    insertName.placeholder = "Save As";
    document.getElementById("forSaveTheCombined").appendChild(insertName);
    var downloadBTN = document.createElement("button");
    downloadBTN.innerHTML = "Download";
    
    downloadBTN.addEventListener("click", function() {
        
        var dataPoolString = JSON.stringify(dataPool);
        var blob = new Blob([dataPoolString],{type:"text/plain;charset=utf-8"});
        newAnchor = document.createElement("a");
        newAnchor.href=URL.createObjectURL(blob);
        newAnchor.download=insertName.value;
        newAnchor.dataset.downloadURL=["text/Plain",newAnchor.download, newAnchor.href];
        newAnchor.click();
    })
    
    
    document.getElementById("forSaveTheCombined").appendChild(downloadBTN);

   

  }

  function statCal() {
      
     
      totalShot = 0;
      totalMake = 0;
      jumpShot=0;
      jumpShotP1 = 0;
      jumpShotP2 = 0;
      jumpShotP3 = 0;
      jumpShotP4 = 0;
      jumpShotP5 = 0;
      jumpShotMakeP1 = 0
      jumpShotMakeP2 = 0
      jumpShotMakeP3 = 0
      jumpShotMakeP4 = 0
      jumpShotMakeP5 = 0

      threePoints = 0
      threePointsP1 = 0
      threePointsP2 = 0
      threePointsP3 = 0
      threePointsP4 = 0
      threePointsP5 = 0
      threePointsMakeP1 = 0
      threePointsMakeP2 = 0
      threePointsMakeP3 = 0
      threePointsMakeP4 = 0
      threePointsMakeP5 = 0

      closeShot = 0
      closeShotMake = 0

      ftMake = 0
      ftShot = 0

      totalSteal = 0 
      totalBlock = 0
      totalTO = 0
      totalOffensiveRPG = 0
      totalDefensiveRPG = 0
    
      gameJoin = []
      n=0 //game join - combining gameID
      while (n<dataPool.players.length) {
          if (dataPool.players[n] === searchPlayer.value) {
                    if (!(gameJoin.includes(dataPool.gameID[n]))) {
                        gameJoin.push(dataPool.gameID[n]);
                    }  
          }
        n+=1
      }

      n=0 //steal stat
      while (n<dataPool.players.length) {
          if (dataPool.players[n] === searchPlayer.value) {
                    if (dataPool.type[n]==="steal") {
                        totalSteal += 1;
                    }
          }
        n+=1
      }

      n=0 //block stat
      while (n<dataPool.players.length) {
          
          if (dataPool.players[n] === searchPlayer.value) {
            
                    if (dataPool.type[n]==="block") {
                        totalBlock += 1;
                    }
          }
        n+=1
      }
    
       n=0 //TO stat
      while (n<dataPool.players.length) {
          
          if (dataPool.players[n] === searchPlayer.value) {
            
                    if (dataPool.type[n]==="turnover") {
                        totalTO += 1;
                    }
          }
        n+=1
      }

      n=0 //Offensive RPG stat
      while (n<dataPool.players.length) {
          
          if (dataPool.players[n] === searchPlayer.value) {
            
                    if (dataPool.type[n]==="offensiveRebounds") {
                        totalOffensiveRPG += 1;
                    }
          }
        n+=1
      }

      n=0 //defensive RPG stat
      while (n<dataPool.players.length) {
          
          if (dataPool.players[n] === searchPlayer.value) {
            
                    if (dataPool.type[n]==="defensiveRebounds") {
                        totalDefensiveRPG += 1;
                    }
          }
        n+=1
      }

      n=0
      while (n<dataPool.players.length) {
    
          
          if (dataPool.players[n] === searchPlayer.value) {
              
                   
                    if (dataPool.type[n]==="jumpshot") {
                        totalShot+=1;            
                        jumpShot += 1;
                        if (dataPool.position[n]==="leftBaseline") {
                            jumpShotP1 += 1
                            if (dataPool.result[n]==="Make") {
                              jumpShotMakeP1 += 1
                            }
                        }
                        if (dataPool.position[n]==="leftWing") {
                            jumpShotP2 += 1
                            if (dataPool.result[n]==="Make") {
                              jumpShotMakeP2 += 1
                            }
                        }
                        if (dataPool.position[n]==="top") {
                            jumpShotP3 += 1
                            if (dataPool.result[n]==="Make") {
                              jumpShotMakeP3 += 1
                            }
                        }
                        if (dataPool.position[n]==="rightWing") {
                            jumpShotP4 += 1
                            if (dataPool.result[n]==="Make") {
                              jumpShotMakeP4 += 1
                            }
                        }
                        if (dataPool.position[n]==="rightBaseline") {
                            jumpShotP5 += 1
                            if (dataPool.result[n]==="Make") {
                              jumpShotMakeP5 += 1
                            }
                        }
                    }
                    if (dataPool.type[n]==="threePoints") {
                        totalShot+=1;            
                        threePoints += 1
                        if (dataPool.position[n] === "leftBaseline") {
                            threePointsP1 += 1
                            if (dataPool.result[n]==="Make") {
                                threePointsMakeP1 += 1
                            }
                        }
                        if (dataPool.position[n] === "leftWing") {
                            threePointsP2 += 1
                            if (dataPool.result[n]==="Make") {
                                threePointsMakeP2 += 1
                            }
                        }
                        if (dataPool.position[n] === "top") {
                            threePointsP3 += 1
                            if (dataPool.result[n]==="Make") {
                                threePointsMakeP3 += 1
                            }
                        }
                        if (dataPool.position[n] === "rightWing") {
                            threePointsP4 += 1
                            if (dataPool.result[n]==="Make") {
                                threePointsMakeP4 += 1
                            }
                        }
                        if (dataPool.position[n] === "rightBaseline") {
                            threePointsP5 += 1
                            if (dataPool.result[n]==="Make") {
                                threePointsMakeP5 += 1
                            }
                        }

                    }
                    if (dataPool.type[n] === "closeShot") {
                        totalShot+=1; 
                        closeShot+=1;            
                        if (dataPool.result[n]==="Make") {
                        closeShotMake += 1
                        }
                    }
                    if (dataPool.type[n] === "freeThrow") {
                        ftShot+=1;            
                        if (dataPool.result[n]==="Make") {
                        ftMake += 1
                        }
                    }
              
          }
        n+=1

      }

      
    
      
      document.getElementById("jumpPercentage").innerHTML = Math.round((jumpShotMakeP1+jumpShotMakeP2+jumpShotMakeP3+jumpShotMakeP4+jumpShotMakeP5)/jumpShot*100)+"%";
      document.getElementById("jumpPosition1").innerHTML = Math.round(jumpShotMakeP1/jumpShotP1*100)+"%";
      document.getElementById("jumpPosition2").innerHTML = Math.round(jumpShotMakeP2/jumpShotP2*100)+"%";
      document.getElementById("jumpPosition3").innerHTML = Math.round(jumpShotMakeP3/jumpShotP3*100)+"%";
      document.getElementById("jumpPosition4").innerHTML = Math.round(jumpShotMakeP4/jumpShotP4*100)+"%";
      document.getElementById("jumpPosition5").innerHTML = Math.round(jumpShotMakeP5/jumpShotP5*100)+"%";

      document.getElementById("threePercentage").innerHTML = Math.round((threePointsMakeP1+threePointsMakeP2+threePointsMakeP3+threePointsMakeP4+threePointsMakeP5)/threePoints*100)+"%";
      document.getElementById("threePosition1").innerHTML = Math.round(threePointsMakeP1/threePointsP1*100)+"%";
      document.getElementById("threePosition2").innerHTML = Math.round(threePointsMakeP2/threePointsP2*100)+"%";
      document.getElementById("threePosition3").innerHTML = Math.round(threePointsMakeP3/threePointsP3*100)+"%";
      document.getElementById("threePosition4").innerHTML = Math.round(threePointsMakeP4/threePointsP4*100)+"%";
      document.getElementById("threePosition5").innerHTML = Math.round(threePointsMakeP5/threePointsP5*100)+"%";
      
      document.getElementById("closePercentage").innerHTML = Math.round(closeShotMake/closeShot*100) + "%";

      document.getElementById("ftPercentage").innerHTML = Math.round(ftMake/ftShot*100) + "%";

      document.getElementById("numSteals").innerHTML = Math.round(totalSteal/gameJoin.length*100)/100

      document.getElementById("numBlocks").innerHTML = Math.round(totalBlock/gameJoin.length*100)/100

      document.getElementById("numTO").innerHTML = Math.round(totalTO/gameJoin.length*100)/100

      document.getElementById("numOffensiveRPG").innerHTML = Math.round(totalOffensiveRPG/gameJoin.length*100)/100

      document.getElementById("numDefensiveRPG").innerHTML = Math.round(totalDefensiveRPG/gameJoin.length*100)/100

      
  }


  // Call bench players onto court 
  function updatePlayer(insertPlayer1,insertPlayer2,insertPlayer3,insertPlayer4,insertPlayer5) {

    
    if (insertPlayer1.value !== "") {

        jumpshotPlayer1.value = insertPlayer1.value;
        jumpshotPlayer1.innerHTML = insertPlayer1.value;
        threePointShotPlayer1.value = insertPlayer1.value;
        threePointShotPlayer1.innerHTML = insertPlayer1.value;
        closeShotPlayer1.value = insertPlayer1.value;
        closeShotPlayer1.innerHTML = insertPlayer1.value;
        freeThrowPlayer1.value = insertPlayer1.value;
        freeThrowPlayer1.innerHTML = insertPlayer1.value;
        TOPlayer1.value = insertPlayer1.value;
        TOPlayer1.innerHTML = insertPlayer1.value;
        offensiveRPGPlayer1.value = insertPlayer1.value;
        offensiveRPGPlayer1.innerHTML = insertPlayer1.value;
        defensiveRPGPlayer1.value = insertPlayer1.value;
        defensiveRPGPlayer1.innerHTML = insertPlayer1.value;
        stealPlayer1.value = insertPlayer1.value;
        stealPlayer1.innerHTML = insertPlayer1.value;
        blockPlayer1.value = insertPlayer1.value;
        blockPlayer1.innerHTML = insertPlayer1.value;

        

    }

    if (insertPlayer2.value !== "") {
        jumpshotPlayer2.value = insertPlayer2.value;
        jumpshotPlayer2.innerHTML = insertPlayer2.value;
        threePointShotPlayer2.value = insertPlayer2.value;
        threePointShotPlayer2.innerHTML = insertPlayer2.value;
        closeShotPlayer2.value = insertPlayer2.value;
        closeShotPlayer2.innerHTML = insertPlayer2.value;
        freeThrowPlayer2.value = insertPlayer2.value;
        freeThrowPlayer2.innerHTML = insertPlayer2.value;
        TOPlayer2.value = insertPlayer2.value;
        TOPlayer2.innerHTML = insertPlayer2.value;
        offensiveRPGPlayer2.value = insertPlayer2.value;
        offensiveRPGPlayer2.innerHTML = insertPlayer2.value;
        defensiveRPGPlayer2.value = insertPlayer2.value;
        defensiveRPGPlayer2.innerHTML = insertPlayer2.value;
        stealPlayer2.value = insertPlayer2.value;
        stealPlayer2.innerHTML = insertPlayer2.value;
        blockPlayer2.value = insertPlayer2.value;
        blockPlayer2.innerHTML = insertPlayer2.value;
    }

    if (insertPlayer3.value !== "") {

        jumpshotPlayer3.value = insertPlayer3.value;
        jumpshotPlayer3.innerHTML = insertPlayer3.value;
        threePointShotPlayer3.value = insertPlayer3.value;
        threePointShotPlayer3.innerHTML = insertPlayer3.value;
        closeShotPlayer3.value = insertPlayer3.value;
        closeShotPlayer3.innerHTML = insertPlayer3.value;
        freeThrowPlayer3.value = insertPlayer3.value;
        freeThrowPlayer3.innerHTML = insertPlayer3.value;
        TOPlayer3.value = insertPlayer3.value;
        TOPlayer3.innerHTML = insertPlayer3.value;
        offensiveRPGPlayer3.value = insertPlayer3.value;
        offensiveRPGPlayer3.innerHTML = insertPlayer3.value;
        defensiveRPGPlayer3.value = insertPlayer3.value;
        defensiveRPGPlayer3.innerHTML = insertPlayer3.value;
        stealPlayer3.value = insertPlayer3.value;
        stealPlayer3.innerHTML = insertPlayer3.value;
        blockPlayer3.value = insertPlayer3.value;
        blockPlayer3.innerHTML = insertPlayer3.value;
    }

    if (insertPlayer4.value !== "") {

        jumpshotPlayer4.value = insertPlayer4.value;
        jumpshotPlayer4.innerHTML = insertPlayer4.value;
        threePointShotPlayer4.value = insertPlayer4.value;
        threePointShotPlayer4.innerHTML = insertPlayer4.value;
        closeShotPlayer4.value = insertPlayer4.value;
        closeShotPlayer4.innerHTML = insertPlayer4.value;
        freeThrowPlayer4.value = insertPlayer4.value;
        freeThrowPlayer4.innerHTML = insertPlayer4.value;
        TOPlayer4.value = insertPlayer4.value;
        TOPlayer4.innerHTML = insertPlayer4.value;
        offensiveRPGPlayer4.value = insertPlayer4.value;
        offensiveRPGPlayer4.innerHTML = insertPlayer4.value;
        defensiveRPGPlayer4.value = insertPlayer4.value;
        defensiveRPGPlayer4.innerHTML = insertPlayer4.value;
        stealPlayer4.value = insertPlayer4.value;
        stealPlayer4.innerHTML = insertPlayer4.value;
        blockPlayer4.value = insertPlayer4.value;
        blockPlayer4.innerHTML = insertPlayer4.value;
    }

    if (insertPlayer5.value !== "") {

        jumpshotPlayer5.value = insertPlayer5.value;
        jumpshotPlayer5.innerHTML = insertPlayer5.value;
        threePointShotPlayer5.value = insertPlayer5.value;
        threePointShotPlayer5.innerHTML = insertPlayer5.value;
        closeShotPlayer5.value = insertPlayer5.value;
        closeShotPlayer5.innerHTML = insertPlayer5.value;
        freeThrowPlayer5.value = insertPlayer5.value;
        freeThrowPlayer5.innerHTML = insertPlayer5.value;
        TOPlayer5.value = insertPlayer5.value;
        TOPlayer5.innerHTML = insertPlayer5.value;
        offensiveRPGPlayer5.value = insertPlayer5.value;
        offensiveRPGPlayer5.innerHTML = insertPlayer5.value;
        defensiveRPGPlayer5.value = insertPlayer5.value;
        defensiveRPGPlayer5.innerHTML = insertPlayer5.value;
        stealPlayer5.value = insertPlayer5.value;
        stealPlayer5.innerHTML = insertPlayer5.value;
        blockPlayer5.value = insertPlayer5.value;
        blockPlayer5.innerHTML = insertPlayer5.value;
    }

    
  }

  // To display different gameID in order 
  function updateGameSequence() {
    // Build a gameBook, sortedGameBook, in order of gameID (game date)
    var sortedGameID = []
    n = 0
    while (n < dataPool.gameID.length) {
        sortedGameID.push(dataPool.gameID[n])
        n += 1
    }
    sortedGameID.sort()     

    n = 0
    sortedGameBook = [];            
    while (n < sortedGameID.length) {
        if (!(sortedGameBook.includes(sortedGameID[n]))) {            
            sortedGameBook.push(sortedGameID[n]);            
        }    
        n += 1
    }
    
    //Display each gameID in gameBook
    n=0    
    while (n < sortedGameBook.length) {
        var btn = document.createElement("button")
        btn.setAttribute("id", "gameDateButton"+n)
        btn.innerHTML = sortedGameBook[n]
        /*btn.addEventListener("click",fillInName)*/
        
        document.getElementById("spanForGames").appendChild(btn)
        n += 1
    }
   

  }

  //Display statistic chart with x-axis in order of gameID
  function updateChart() {    
    var jumpshotChartPlot = document.getElementById("jumpshotChartPlace")
    var threePointChartPlot = document.getElementById("threePointChartPlace")
    var closeShotsChartPlot = document.getElementById("closeShotsChartPlace") 
    var freeThrowChartPlot = document.getElementById("freeThrowChartPlace")
    var TOChartPlot = document.getElementById("TOChartPlot")
    var ORChartPlot = document.getElementById("ORChartPlace")
    var stealChartPlot = document.getElementById("stealChartPlace")
    var blockChartPlot = document.getElementById("blockChartPlace")
    var DRChartPlot = document.getElementById("DRChartPlace")
    var scoreChartPlot = document.getElementById("scoreChartPlace")
    

    stealSequence = []
    blockSequence = []
    ORSequence = []
    DRSequence = []
    threePointSequence = []
    scoreSequence = []
    freeThrowSequence = []
    jumpshotSequence = []
    closeShotsSequence = []
    threePointSequenceMake = []
    freeThrowSequenceMake = []
    jumpshotSequenceMake = []
    closeShotsSequenceMake = []
    
    n = 0
    while (n < sortedGameBook.length) {

        m = 0
        stealCount = 0
        blockCount = 0
        threePointCount = 0
        threePointCountMake = 0
        jumpshotCount = 0
        jumpShotCountMake = 0
        closeShotCount = 0
        closeShotCountMake = 0
        freeThrowCount = 0
        freeThrowCountMake = 0
        ORCount = 0
        DRCount = 0
        TOCount = 0
        totalScore = 0

        while (m < dataPool.time.length) {

            if (dataPool.gameID[m] === sortedGameBook[n]) {
                if (dataPool.type[m] === "threePoints") {
                    threePointCount += 1
                    if (dataPool.result[m]==="Make") {
                        threePointCountMake += 1
                        totalScore += 3
                        console.log(totalScore)
                    }
                }
                if (dataPool.type[m] === "jumpshot") {
                    jumpshotCount += 1
                    if (dataPool.result[m]==="Make") {
                        jumpShotCountMake += 1
                        totalScore += 2
                    }
                }
                if (dataPool.type[m] === "closeShot") {
                    closeShotCount += 1
                    if (dataPool.result[m]==="Make") {
                        closeShotCountMake += 1
                        totalScore += 2
                    }
                }
                if (dataPool.type[m] === "freeThrow") {
                    freeThrowCount += 1
                    if (dataPool.result[m]==="Make") {
                        freeThrowCountMake += 1
                        totalScore += 1
                    }
                }
                if (dataPool.type[m] === "steal") {
                    stealCount += 1
                }
                if (dataPool.type[m] === "block") {
                    blockCount += 1
                } 
                
            }
            m += 1
        }
        stealSequence.push(stealCount);
        blockSequence.push(blockCount);
        threePointSequence.push(threePointCount);
        threePointSequenceMake.push(threePointCountMake);
        jumpshotSequence.push(jumpshotCount);
        jumpshotSequenceMake.push(jumpShotCountMake);
        freeThrowSequence.push(freeThrowCount);
        freeThrowSequenceMake.push(freeThrowCountMake);
        closeShotsSequence.push(closeShotCount);
        closeShotsSequenceMake.push(closeShotCountMake);
        scoreSequence.push(totalScore);
        console.log(scoreSequence)
        
        

        n += 1
    }

    //Use Plotly.newPlot to draws a new plot in an <div> element, overwriting any existing plot.
    xSequence = []
    n = 0
    while (n < stealSequence.length) {

        xSequence.push("G" + sortedGameBook[n])
        n += 1
    }
    var plotData = [{x:xSequence,y:stealSequence}]
    console.log(plotData)
    var layout = {title: "Steal"}
    Plotly.newPlot(stealChartPlot, plotData, layout)
    
    var plotData = [{x:xSequence,y:blockSequence}]
    console.log(plotData)
    var layout = {title: "Block"}
    Plotly.newPlot(blockChartPlot, plotData, layout)

    var plotData = [{x:xSequence,y:threePointSequence}]
    console.log(plotData)
    var layout = {title: "Three Points"}
    Plotly.newPlot(threePointChartPlot, plotData, layout)

    var plotData = [{x:xSequence,y:scoreSequence}]
    console.log(plotData)
    var layout = {title: "Total Score"}
    Plotly.newPlot(scoreChartPlot, plotData, layout)

    var plotData = [{x:xSequence,y:closeShotsSequence}]
    console.log(plotData)
    var layout = {title: "Close shot"}
    Plotly.newPlot(closeShotsChartPlot, plotData, layout)

    var plotData = [{x:xSequence,y:jumpshotSequence}]
    console.log(plotData)
    var layout = {title: "Jumpshot"}
    Plotly.newPlot(jumpshotChartPlot, plotData, layout)

    var plotData = [{x:xSequence,y:freeThrowSequence}]
    console.log(plotData)
    var layout = {title: "Free Throw"}
    Plotly.newPlot(freeThrowChartPlot, plotData, layout)





    
    
  }


</script>
</html>